@import 'microscope/responsive';
@import '../../components/navigation-bar/constants';

@mixin sticky($offset: null, $position: 'top') {
  position: sticky;
  @if ($position == 'top') {

    @if ($offset) {
      top: calc(#{$offset});
      @include responsive($position, calc(#{$datagrid-offset-caption-mobile} + #{$offset}), calc(#{$offset}));
    } @else {
      @include responsive($position, $datagrid-offset-caption-mobile, 0);
    }

    .navigation-bar--sticky ~ * & {
      @if ($offset) {
        @include responsive($position, calc(#{$datagrid-offset-caption-mobile} + #{$offset}), calc(#{$navigation-bar-min-height-tablet-stuck} + #{$offset}));
      } @else {
        @include responsive($position, $datagrid-offset-caption-mobile, $navigation-bar-min-height-tablet-stuck);
      }
    }

  }

  @else {
    #{$position}: $offset;
  }
}
