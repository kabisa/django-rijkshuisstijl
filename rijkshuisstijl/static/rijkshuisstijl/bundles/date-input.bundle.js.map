{"version":3,"sources":["webpack:///./node_modules/flatpickr/dist/l10n/nl.js","webpack:///./rijkshuisstijl/js/components/form/date-input.js"],"names":["DateInput","node","update","dataset","dateFormat","isDateTime","locale","Dutch","firstDayOfWeek","BEM","hasModifier","MODIFIER_DATE_RANGE","type","selectedDates","dateStr","flatpickr","copyAttrs","altInput","cleanValue","target","targetAttributes","attributes","excludedAttributes","forEach","attr","name","indexOf","setAttribute","value","match","addModifier","MODIFIER_DATE","placeholder","getDateFormat","replace","updateClassName","updatePlaceholder","flatPicker","altInputClass","className","altFormat","defaultDate","split","getLocale","mode","getMode","onReady","bind","l10n","rangeSeparator","DATE_INPUTS","DATE_RANGE_INPUTS"],"mappings":"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","file":"date-input.bundle.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.nl = {}));\n}(this, function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {}\n      };\n  var Dutch = {\n      weekdays: {\n          shorthand: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n          longhand: [\n              \"zondag\",\n              \"maandag\",\n              \"dinsdag\",\n              \"woensdag\",\n              \"donderdag\",\n              \"vrijdag\",\n              \"zaterdag\",\n          ]\n      },\n      months: {\n          shorthand: [\n              \"jan\",\n              \"feb\",\n              \"mrt\",\n              \"apr\",\n              \"mei\",\n              \"jun\",\n              \"jul\",\n              \"aug\",\n              \"sept\",\n              \"okt\",\n              \"nov\",\n              \"dec\",\n          ],\n          longhand: [\n              \"januari\",\n              \"februari\",\n              \"maart\",\n              \"april\",\n              \"mei\",\n              \"juni\",\n              \"juli\",\n              \"augustus\",\n              \"september\",\n              \"oktober\",\n              \"november\",\n              \"december\",\n          ]\n      },\n      firstDayOfWeek: 1,\n      weekAbbreviation: \"wk\",\n      rangeSeparator: \" tot \",\n      scrollTitle: \"Scroll voor volgende / vorige\",\n      toggleTitle: \"Klik om te wisselen\",\n      time_24hr: true,\n      ordinal: function (nth) {\n          if (nth === 1 || nth === 8 || nth >= 20)\n              return \"ste\";\n          return \"de\";\n      }\n  };\n  fp.l10ns.nl = Dutch;\n  var nl = fp.l10ns;\n\n  exports.Dutch = Dutch;\n  exports.default = nl;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","import BEM from 'bem.js';\nimport flatpickr from 'flatpickr';\nimport {Dutch} from 'flatpickr/dist/l10n/nl';\nimport {MODIFIER_DATE_RANGE, DATE_INPUTS, DATE_RANGE_INPUTS, MODIFIER_DATE} from './constants';\n\n\n/**\n * Adds a datepicker to date inputs.\n * @class\n */\nclass DateInput {\n    /**\n     * Constructor method.\n     * @param {HTMLInputElement} node\n     */\n    constructor(node) {\n        /** @type {HTMLInputElement} */\n        this.node = node;\n        this.update();\n    }\n\n    /**\n     * Returns the date format to use with the datepicker.\n     * @return {string}\n     */\n    getDateFormat() {\n        if (this.node.dataset.dateFormat) {\n            return this.node.dataset.dateFormat;\n        }\n\n        return this.isDateTime() ? 'd-m-Y H:1' : 'd-m-Y';\n    }\n\n    /**\n     * Returns the (Dutch) locale to use.\n     * @return {CustomLocale}\n     */\n    getLocale() {\n        const locale = Dutch;\n        locale.firstDayOfWeek = 1;  // Start on monday.\n        return locale;\n    }\n\n    /**\n     * Returns the mode to use, either \"range\" or \"single\".\n     * @return {string}\n     */\n    getMode() {\n        return BEM.hasModifier(this.node, MODIFIER_DATE_RANGE) ? 'range' : 'single';\n    }\n\n    /**\n     * @TODO: Yet to be supported.\n     * @return {boolean}\n     */\n    isDateTime() {\n        return this.node.type === 'datetime';\n    }\n\n    /**\n     * onReady callback for flatpickr.\n     * @param {Array} selectedDates\n     * @param {string} dateStr\n     * @param {Object} flatpickr\n     */\n    onReady(selectedDates, dateStr, flatpickr) {\n        this.copyAttrs(flatpickr.altInput);\n        this.cleanValue();\n    }\n\n    /**\n     * Copies attributes of this.node to target only if not already set on target.\n     * @param {HTMLElement} target\n     */\n    copyAttrs(target) {\n        const targetAttributes = target.attributes;\n        const excludedAttributes = ['form', 'name', 'value'];\n\n        [...this.node.attributes].forEach(attr => {\n            if (!(attr.name in targetAttributes) && excludedAttributes.indexOf(attr.name) === -1) {\n                target.setAttribute(attr.name, attr.value);\n            }\n        });\n\n    }\n\n    /**\n     * Makes sure a useful value is set on the value attribute.\n     */\n    cleanValue() {\n        if (!this.node.value.match(/\\d/)) {\n            this.node.value = '';\n        }\n    }\n\n    /**\n     * Adds MODIFIER_DATE to this.node.\n     */\n    updateClassName() {\n        BEM.addModifier(this.node, MODIFIER_DATE);\n    }\n\n    /**\n     * Adds placeholder to this.node.\n     */\n    updatePlaceholder() {\n        if (!this.node.placeholder) {\n            const placeholder = this.getDateFormat()\n                .replace('d', 'dd')\n                .replace('m', 'mm')\n                .replace('Y', 'yyyy');\n            this.node.placeholder = placeholder;\n        }\n    }\n\n    /**\n     * Adds the datepicker.\n     */\n    update() {\n        this.updateClassName();\n        this.updatePlaceholder();\n        const flatPicker = flatpickr(this.node, {\n            altInput: true,\n            altInputClass: this.node.className,\n            altFormat: this.getDateFormat(),\n            dateFormat: 'Y-m-d',\n            defaultDate: this.node.value.split('/'),\n            locale: this.getLocale(),\n            mode: this.getMode(),\n            onReady: this.onReady.bind(this),\n        });\n        flatPicker.l10n.rangeSeparator = '/';\n    }\n}\n\n// Start!\n[...DATE_INPUTS, ...DATE_RANGE_INPUTS].forEach(node => new DateInput(node));\n\n\n"],"sourceRoot":""}