{"version":3,"sources":["webpack:///./rijkshuisstijl/js/components/button/constants.js","webpack:///./rijkshuisstijl/js/components/search/search.js"],"names":["BLOCK_BUTTON","MODIFIER_PRIMARY","MODIFIER_SECONDARY","Search","node","input","BEM","getChildBEMNode","BLOCK_SEARCH","ELEMENT_INPUT","buttonPrimary","buttonSecondary","bindEvents","addEventListener","onClickButtonPrimary","bind","onClickButtonSecondary","onBlur","onPressEnter","e","keyCode","preventDefault","value","form","submit","hasModifier","MODIFIER_OPEN","focus","blur","relatedTarget","close","removeModifier","SEARCHES","forEach","search"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACO,GAAMA,aAAY,CAAG,QAArB,CAEP,4DACO,GAAMC,iBAAgB,CAAG,SAAzB,CAEP,8DACO,GAAMC,mBAAkB,CAAG,WAA3B,C;;;;;;;;;;;;;;;;;;+pDCFP;;;;GAKO,GAAMC,OAAb,yBACI;;;OAIA,gBAAYC,IAAZ,CAAkB,8BACd,8BACA,KAAKA,IAAL,CAAYA,IAAZ,CAEA,+BACA,KAAKC,KAAL,CAAaC,6CAAG,CAACC,eAAJ,CAAoB,KAAKH,IAAzB,CAA+BI,uDAA/B,CAA6CC,wDAA7C,CAAb,CAEA,gCACA,KAAKC,aAAL,CAAqBJ,6CAAG,CAACC,eAAJ,CAAoB,KAAKH,IAAzB,CAA+BJ,8DAA/B,CAA6C,KAA7C,CAAoDC,kEAApD,CAArB,CAEA,gCACA,KAAKU,eAAL,CAAuBL,6CAAG,CAACC,eAAJ,CAAoB,KAAKH,IAAzB,CAA+BJ,8DAA/B,CAA6C,KAA7C,CAAoDE,oEAApD,CAAvB,CAEA,KAAKU,UAAL,GACH,CAED;;OArBJ,kEAwBiB,CACT,KAAKF,aAAL,CAAmBG,gBAAnB,CAAoC,OAApC,CAA6C,KAAKC,oBAAL,CAA0BC,IAA1B,CAA+B,IAA/B,CAA7C,EACA,KAAKJ,eAAL,CAAqBE,gBAArB,CAAsC,OAAtC,CAA+C,KAAKG,sBAAL,CAA4BD,IAA5B,CAAiC,IAAjC,CAA/C,EACA,KAAKV,KAAL,CAAWQ,gBAAX,CAA4B,MAA5B,CAAoC,KAAKI,MAAL,CAAYF,IAAZ,CAAiB,IAAjB,CAApC,EACA,KAAKV,KAAL,CAAWQ,gBAAX,CAA4B,UAA5B,CAAwC,KAAKK,YAAL,CAAkBH,IAAlB,CAAuB,IAAvB,CAAxC,EACH,CAED;;;OA/BJ,kDAmCiBI,CAnCjB,CAmCoB,CACZ,GAAMC,QAAO,CAAGD,CAAC,CAACC,OAAlB,CACA,GAAIA,OAAO,GAAK,EAAhB,CAAoB,CAChBD,CAAC,CAACE,cAAF,GACA,GAAI,KAAKhB,KAAL,CAAWiB,KAAf,CAAsB,CAClB,KAAKjB,KAAL,CAAWkB,IAAX,CAAgBC,MAAhB,GACH,CACJ,CACJ,CAED;;;;;OA7CJ,mEAmD2B,CACnB,GAAIlB,6CAAG,CAACmB,WAAJ,CAAgB,KAAKrB,IAArB,CAA2BsB,wDAA3B,CAAJ,CAA+C,CAC3C,GAAI,KAAKrB,KAAL,CAAWiB,KAAf,CAAsB,CAClB,KAAKjB,KAAL,CAAWkB,IAAX,CAAgBC,MAAhB,GACH,CACD,KAAKnB,KAAL,CAAWsB,KAAX,GACH,CALD,IAKO,CACH,KAAKtB,KAAL,CAAWuB,IAAX,GACH,CACJ,CAED;;;;OA9DJ,sEAmE2BT,CAnE3B,CAmE8B,CACtBA,CAAC,CAACE,cAAF,GACA,KAAKhB,KAAL,CAAWiB,KAAX,CAAmB,EAAnB,CACA,KAAKjB,KAAL,CAAWsB,KAAX,GACH,CAED;;;;OAzEJ,sCA8EWR,CA9EX,CA8Ec,CACN,GAAI,CAAC,KAAKd,KAAL,CAAWiB,KAAZ,EAAqB,CAACH,CAAC,CAACU,aAA5B,CAA2C,CACvC,KAAKC,KAAL,GACH,CACJ,CAED;;;OApFJ,qCAwFY,CACJxB,6CAAG,CAACyB,cAAJ,CAAmB,KAAK3B,IAAxB,CAA8BsB,wDAA9B,EACH,CA1FL,sBA8FA;AACA,mBAAIM,mDAAJ,EAAcC,OAAd,CAAsB,SAAAC,MAAM,QAAI,IAAI/B,OAAJ,CAAW+B,MAAX,CAAJ,EAA5B,E","file":"search.bundle.js","sourcesContent":["/** @const {string} */\nexport const BLOCK_BUTTON = 'button';\n\n/** @const {string} Modifier indicating a primary button. */\nexport const MODIFIER_PRIMARY = 'primary';\n\n/** @const {string} Modifier indicating a secondary button. */\nexport const MODIFIER_SECONDARY = 'secondary';\n","import BEM from 'bem.js';\nimport {BLOCK_BUTTON, MODIFIER_PRIMARY, MODIFIER_SECONDARY} from '../button/constants';\nimport {SEARCHES, BLOCK_SEARCH, ELEMENT_INPUT, MODIFIER_OPEN} from './constants';\n\n\n/**\n * Contains additional logic controlling search widget.\n * NOTE: Open/close behaviour controlled by button (ToggleButton).\n * @class\n */\nexport class Search {\n    /**\n     * Constructor method.\n     * @param {HTMLFormElement} node\n     */\n    constructor(node) {\n        /** @type {HTMLFormElement} */\n        this.node = node;\n\n        /** @type {HTMLInputElement} */\n        this.input = BEM.getChildBEMNode(this.node, BLOCK_SEARCH, ELEMENT_INPUT);\n\n        /** @type {HTMLButtonElement} */\n        this.buttonPrimary = BEM.getChildBEMNode(this.node, BLOCK_BUTTON, false, MODIFIER_PRIMARY);\n\n        /** @type {HTMLButtonElement} */\n        this.buttonSecondary = BEM.getChildBEMNode(this.node, BLOCK_BUTTON, false, MODIFIER_SECONDARY);\n\n        this.bindEvents();\n    }\n\n    /**\n     * Binds events to callbacks.\n     */\n    bindEvents() {\n        this.buttonPrimary.addEventListener('click', this.onClickButtonPrimary.bind(this));\n        this.buttonSecondary.addEventListener('click', this.onClickButtonSecondary.bind(this));\n        this.input.addEventListener('blur', this.onBlur.bind(this));\n        this.input.addEventListener('keypress', this.onPressEnter.bind(this));\n    }\n\n    /**\n     * Callback for keypress event on focused input.\n     * Submits for if the user pressed enter and there is an input value.\n     */\n    onPressEnter(e) {\n        const keyCode = e.keyCode;\n        if (keyCode === 13) {\n            e.preventDefault();\n            if (this.input.value) {\n                this.input.form.submit();\n            }\n        }\n    }\n\n    /**\n     * Callback for click event on this.buttonPrimary.\n     * Submits form if input has value.\n     * Focuses this.input if MODIFIER_OPEN is set on this.node.\n     * Blurs this.input otherwise.\n     */\n    onClickButtonPrimary() {\n        if (BEM.hasModifier(this.node, MODIFIER_OPEN)) {\n            if (this.input.value) {\n                this.input.form.submit();\n            }\n            this.input.focus();\n        } else {\n            this.input.blur();\n        }\n    }\n\n    /**\n     * Callback for click event on this.buttonSecondary.\n     * Clears/focuses this.input.\n     * @param {Event} e\n     */\n    onClickButtonSecondary(e) {\n        e.preventDefault();\n        this.input.value = '';\n        this.input.focus();\n    }\n\n    /**\n     * Callback for blur event on this.input.\n     * Calls this.close() if input does not have value.\n     * @param {Event} e\n     */\n    onBlur(e) {\n        if (!this.input.value && !e.relatedTarget) {\n            this.close();\n        }\n    }\n\n    /**\n     * Additional control for removing MODIFIER_OPEN for this.node.\n     * NOTE: Open/close behaviour controlled by button (ToggleButton).\n     */\n    close() {\n        BEM.removeModifier(this.node, MODIFIER_OPEN);\n    }\n}\n\n\n// Start!\n[...SEARCHES].forEach(search => new Search(search));\n"],"sourceRoot":""}