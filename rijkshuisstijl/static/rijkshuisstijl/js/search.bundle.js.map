{"version":3,"sources":["webpack:///./rijkshuisstijl/js/components/button/constants.js","webpack:///./rijkshuisstijl/js/components/search/search.js"],"names":["BLOCK_BUTTON","MODIFIER_PRIMARY","MODIFIER_SECONDARY","Search","node","input","BEM","getChildBEMNode","BLOCK_SEARCH","ELEMENT_INPUT","buttonPrimary","buttonSecondary","bindEvents","addEventListener","onClickButtonPrimary","bind","onClickButtonSecondary","onBlur","hasModifier","MODIFIER_OPEN","focus","blur","e","value","relatedTarget","close","removeModifier","SEARCHES","forEach","search"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACO,GAAMA,aAAY,CAAG,QAArB,CAEP,4DACO,GAAMC,iBAAgB,CAAG,SAAzB,CAEP,8DACO,GAAMC,mBAAkB,CAAG,WAA3B,C;;;;;;;;;;;;;;;;;;mnCCFP;;;;GAKO,GAAMC,OAAb,yBACI;;;OAIA,gBAAYC,IAAZ,CAAkB,8BACd,8BACA,KAAKA,IAAL,CAAYA,IAAZ,CAEA,+BACA,KAAKC,KAAL,CAAaC,6CAAG,CAACC,eAAJ,CAAoB,KAAKH,IAAzB,CAA+BI,uDAA/B,CAA6CC,wDAA7C,CAAb,CAEA,gCACA,KAAKC,aAAL,CAAqBJ,6CAAG,CAACC,eAAJ,CAAoB,KAAKH,IAAzB,CAA+BJ,8DAA/B,CAA6C,KAA7C,CAAoDC,kEAApD,CAArB,CAEA,gCACA,KAAKU,eAAL,CAAuBL,6CAAG,CAACC,eAAJ,CAAoB,KAAKH,IAAzB,CAA+BJ,8DAA/B,CAA6C,KAA7C,CAAoDE,oEAApD,CAAvB,CAEA,KAAKU,UAAL,GACH,CAED;;OArBJ,kEAwBiB,CACT,KAAKF,aAAL,CAAmBG,gBAAnB,CAAoC,OAApC,CAA6C,KAAKC,oBAAL,CAA0BC,IAA1B,CAA+B,IAA/B,CAA7C,EACA,KAAKJ,eAAL,CAAqBE,gBAArB,CAAsC,OAAtC,CAA+C,KAAKG,sBAAL,CAA4BD,IAA5B,CAAiC,IAAjC,CAA/C,EACA,KAAKV,KAAL,CAAWQ,gBAAX,CAA4B,MAA5B,CAAoC,KAAKI,MAAL,CAAYF,IAAZ,CAAiB,IAAjB,CAApC,EACA;AACH,CAED;;;OA/BJ,CAmCI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;OA7CJ,mEAmD2B,CACnB;AACA;AACA;AAEA,GAAIT,6CAAG,CAACY,WAAJ,CAAgB,KAAKd,IAArB,CAA2Be,wDAA3B,CAAJ,CAA+C,CAC3C,KAAKd,KAAL,CAAWe,KAAX,GACH,CAFD,IAEO,CACH,KAAKf,KAAL,CAAWgB,IAAX,GACH,CACJ,CAED;;;OA/DJ,uEAmE6B,CACrB,KAAKhB,KAAL,CAAWe,KAAX,GACH,CAED;;;;OAvEJ,sCA4EWE,CA5EX,CA4Ec,CACN,GAAI,CAAC,KAAKjB,KAAL,CAAWkB,KAAZ,EAAqB,CAACD,CAAC,CAACE,aAA5B,CAA2C,CACvC,KAAKC,KAAL,GACH,CACJ,CAED;;;OAlFJ,qCAsFY,CACJnB,6CAAG,CAACoB,cAAJ,CAAmB,KAAKtB,IAAxB,CAA8Be,wDAA9B,EACH,CAxFL,sBA4FA;AACA,mBAAIQ,mDAAJ,EAAcC,OAAd,CAAsB,SAAAC,MAAM,QAAI,IAAI1B,OAAJ,CAAW0B,MAAX,CAAJ,EAA5B,E","file":"search.bundle.js","sourcesContent":["/** @const {string} */\nexport const BLOCK_BUTTON = 'button';\n\n/** @const {string} Modifier indicating a primary button. */\nexport const MODIFIER_PRIMARY = 'primary';\n\n/** @const {string} Modifier indicating a secondary button. */\nexport const MODIFIER_SECONDARY = 'secondary';\n","import BEM from 'bem.js';\nimport {BLOCK_BUTTON, MODIFIER_PRIMARY, MODIFIER_SECONDARY} from '../button/constants';\nimport {SEARCHES, BLOCK_SEARCH, ELEMENT_INPUT, MODIFIER_OPEN} from './constants';\n\n\n/**\n * Contains additional logic controlling search widget.\n * NOTE: Open/close behaviour controlled by button (ToggleButton).\n * @class\n */\nexport class Search {\n    /**\n     * Constructor method.\n     * @param {HTMLFormElement} node\n     */\n    constructor(node) {\n        /** @type {HTMLFormElement} */\n        this.node = node;\n\n        /** @type {HTMLInputElement} */\n        this.input = BEM.getChildBEMNode(this.node, BLOCK_SEARCH, ELEMENT_INPUT);\n\n        /** @type {HTMLButtonElement} */\n        this.buttonPrimary = BEM.getChildBEMNode(this.node, BLOCK_BUTTON, false, MODIFIER_PRIMARY);\n\n        /** @type {HTMLButtonElement} */\n        this.buttonSecondary = BEM.getChildBEMNode(this.node, BLOCK_BUTTON, false, MODIFIER_SECONDARY);\n\n        this.bindEvents();\n    }\n\n    /**\n     * Binds events to callbacks.\n     */\n    bindEvents() {\n        this.buttonPrimary.addEventListener('click', this.onClickButtonPrimary.bind(this));\n        this.buttonSecondary.addEventListener('click', this.onClickButtonSecondary.bind(this));\n        this.input.addEventListener('blur', this.onBlur.bind(this));\n        // this.input.addEventListener('keypress', this.onPressEnter.bind(this));\n    }\n\n    /**\n     * Callback for keypress event on focused input.\n     * Submits for if the user pressed enter and there is an input value.\n     */\n    // onPressEnter(e) {\n    //     const keyCode = e.keyCode;\n    //     if (keyCode === 13) {\n    //         e.preventDefault();\n    //         if (this.input.value) {\n    //             window.location = `${this.node.action}?search=${this.input.value}`;\n    //         }\n    //     }\n    // }\n\n    /**\n     * Callback for click event on this.buttonPrimary.\n     * Submits form if input has value.\n     * Focuses this.input if MODIFIER_OPEN is set on this.node.\n     * Blurs this.input otherwise.\n     */\n    onClickButtonPrimary() {\n        // if (this.input.value) {\n        //     window.location = `${this.node.action}?search=${this.input.value}`;\n        // }\n\n        if (BEM.hasModifier(this.node, MODIFIER_OPEN)) {\n            this.input.focus();\n        } else {\n            this.input.blur();\n        }\n    }\n\n    /**\n     * Callback for click event on this.buttonSecondary.\n     * Focuses this.input.\n     */\n    onClickButtonSecondary() {\n        this.input.focus();\n    }\n\n    /**\n     * Callback for blur event on this.input.\n     * Calls this.close() if input does not have value.\n     * @param {Event} e\n     */\n    onBlur(e) {\n        if (!this.input.value && !e.relatedTarget) {\n            this.close();\n        }\n    }\n\n    /**\n     * Additional control for removing MODIFIER_OPEN for this.node.\n     * NOTE: Open/close behaviour controlled by button (ToggleButton).\n     */\n    close() {\n        BEM.removeModifier(this.node, MODIFIER_OPEN);\n    }\n}\n\n\n// Start!\n[...SEARCHES].forEach(search => new Search(search));\n"],"sourceRoot":""}